-- DROP SCHEMA public;

CREATE SCHEMA public AUTHORIZATION postgres;

COMMENT ON SCHEMA public IS 'standard public schema';
-- public.student definition

-- Drop table

-- DROP TABLE public.student;

CREATE TABLE public.student (
	id_student int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	date_of_start date NOT NULL,
	date_of_birthd date NOT NULL,
	city varchar NOT NULL,
	f varchar NOT NULL,
	i varchar NOT NULL,
	o varchar NOT NULL,
	CONSTRAINT student_pk PRIMARY KEY (id_student)
);


-- public.faculty definition

-- Drop table

-- DROP TABLE public.faculty;

CREATE TABLE public.faculty (
	id_faculty int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	"name" varchar NULL,
	decan varchar NULL,
	count_mest int4 NULL,
	CONSTRAINT faculty_pk PRIMARY KEY (id_faculty)
);


-- public.prepodavateli definition

-- Drop table

-- DROP TABLE public.prepodavateli;

CREATE TABLE public.prepodavateli (
	id_prepodavateli int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	f varchar NULL,
	i varchar NULL,
	o varchar NULL,
	doljnost varchar NULL,
	kafedra varchar NULL,
	CONSTRAINT prepodavateli_pk PRIMARY KEY (id_prepodavateli)
);


-- public.groupi definition

-- Drop table

-- DROP TABLE public.groupi;

CREATE TABLE public.groupi (
	id_groupi int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	"name" varchar NULL,
	kyrs int4 NULL,
	id_faculty int4 NULL,
	CONSTRAINT groupi_pk PRIMARY KEY (id_groupi)
);


-- public.education definition

-- Drop table

-- DROP TABLE public.education;

CREATE TABLE public.education (
	id_education int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	speciality varchar NOT NULL,
	"group" varchar NOT NULL,
	"year" int4 NOT NULL,
	sum_stip int4 NOT NULL,
	id_faculty int4 NOT NULL,
	id_student int4 NOT NULL,
	CONSTRAINT education_pk PRIMARY KEY (id_education),
	CONSTRAINT education_fk FOREIGN KEY (id_faculty) REFERENCES public.faculty(id_faculty),
	CONSTRAINT education_fk_1 FOREIGN KEY (id_student) REFERENCES public.student(id_student)
);


-- public.nauch_work definition

-- Drop table

-- DROP TABLE public.nauch_work;

CREATE TABLE public.nauch_work (
	id_nauch_work int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	id_student int4 NOT NULL,
	"name" varchar NOT NULL,
	type_of_work varchar NOT NULL,
	id_prepodavateli int4 NOT NULL,
	CONSTRAINT nauch_work_pk PRIMARY KEY (id_nauch_work),
	CONSTRAINT nauch_2work_fk FOREIGN KEY (id_prepodavateli) REFERENCES public.prepodavateli(id_prepodavateli),
	CONSTRAINT nauch_work_fk FOREIGN KEY (id_student) REFERENCES public.student(id_student)
);


-- public.stipendia definition

-- Drop table

-- DROP TABLE public.stipendia;

CREATE TABLE public.stipendia (
	id_stipendia int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	id_student int4 NOT NULL,
	type_of_stip varchar NOT NULL,
	summ numeric NOT NULL,
	period_of_day int4 NOT NULL,
	CONSTRAINT stipendia_pk PRIMARY KEY (id_stipendia),
	CONSTRAINT stipendia_fk FOREIGN KEY (id_student) REFERENCES public.student(id_student)
);


-- public.predmeti definition

-- Drop table

-- DROP TABLE public.predmeti;

CREATE TABLE public.predmeti (
	id_predmet int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	"name" varchar NULL,
	description varchar NULL,
	hours int4 NULL,
	id_student int4 NULL,
	CONSTRAINT predmeti_pk PRIMARY KEY (id_predmet),
	CONSTRAINT predmeti_fk FOREIGN KEY (id_student) REFERENCES public.student(id_student)
);


-- public.raspisanie definition

-- Drop table

-- DROP TABLE public.raspisanie;

CREATE TABLE public.raspisanie (
	id_raspisanie int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	id_groupi int4 NOT NULL,
	id_predmet int4 NULL,
	id_prepodavateli int4 NULL,
	time_start time NULL,
	day_nedeli int4 NULL,
	time_end time NULL,
	auditory varchar NULL,
	CONSTRAINT raspisanie_pk PRIMARY KEY (id_raspisanie),
	CONSTRAINT rasp2isanie_fk FOREIGN KEY (id_prepodavateli) REFERENCES public.prepodavateli(id_prepodavateli),
	CONSTRAINT raspisani3e_fk_1 FOREIGN KEY (id_predmet) REFERENCES public.predmeti(id_predmet),
	CONSTRAINT raspisanie_fk_2 FOREIGN KEY (id_groupi) REFERENCES public.groupi(id_groupi)
);


-- public.ocenki definition

-- Drop table

-- DROP TABLE public.ocenki;

CREATE TABLE public.ocenki (
	id_ocenki int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY,
	id_student int4 NULL,
	id_predmet int4 NULL,
	ocenka varchar(1) NULL,
	date_ocenka date NULL,
	CONSTRAINT ocenki_pk PRIMARY KEY (id_ocenki),
	CONSTRAINT ocenki_fk FOREIGN KEY (id_predmet) REFERENCES public.predmeti(id_predmet),
	CONSTRAINT ocenki_student_fk FOREIGN KEY (id_student) REFERENCES public.student(id_student)
);
